var MediaSourceChunksPlayer=function(){return function(n){function o(){r.length&&(i.appendBuffer(r.shift()),e++)}function s(){i=t.addSourceBuffer("audio/mpeg");i.addEventListener("updateend",o,!1);console.log("sourceOpenCallback")}function h(){t.removeSourceBuffer(i)}function c(){}function a(){u.audioEl.paused&&u.audioEl.play()}var u=this,t=new MediaSource,i,r,e,f,l;this.audioEl=document.querySelector(n);r=[];e=0;this.addChunk=function(n){r.push(n);i.updating||o();r.length==0&&a()};t.addEventListener("sourceopen",s,!1);t.addEventListener("webkitsourceopen",s,!1);t.addEventListener("sourceclose",h,!1);t.addEventListener("webkitsourceclose",h,!1);t.addEventListener("sourceended",c,!1);t.addEventListener("webkitsourceended",c,!1);u.audioEl.src=window.URL.createObjectURL(t);f=new AudioContext;l=f.createMediaElementSource(u.audioEl);l.connect(f.destination)}}();
//# sourceMappingURL=MediaSourceChunksPlayer.min.js.map
